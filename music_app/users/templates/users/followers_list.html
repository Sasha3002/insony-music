{% extends "users/base.html" %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/users.css' %}">
{% endblock %}

{% block content %}

<div class="container py-4">
  
  <a href="{% url 'user_profile_public' profile_user.username %}" class="btn btn-outline-light mb-3">
    <i class="bi bi-arrow-left"></i> Powrót do profilu
  </a>

  <div class="followers-header">
    <h1 class="followers-title">Obserwujący</h1>
    <p class="followers-subtitle">Użytkownicy obserwujący @{{ profile_user.username }}</p>
  </div>

  {% if followers %}
    {% for follow in followers %}
      <div class="follower-card">
        <a href="{% url 'user_profile_public' follow.follower.username %}">
          <div class="user-avatar-large">
            <img src="{% if follow.follower.profile_picture %}{{ follow.follower.profile_picture.url }}{% else %}https://ui-avatars.com/api/?name={{ follow.follower.username }}&background=2a2a2a&color=fff&size=144{% endif %}" 
                 alt="{{ follow.follower.username }}"
                 style="width: 64px; height: 64px; border-radius: 50%; object-fit: cover;">
          </div>
        </a>
        
        <div class="user-info">
          <div class="user-info-name">
            <a href="{% url 'user_profile_public' follow.follower.username %}" style="color: #fff; text-decoration: none;">
              {{ follow.follower.username }}
            </a>
          </div>
          <div class="user-info-meta">
            <i class="bi bi-calendar3"></i> Obserwuje od {{ follow.created_at|date:"d.m.Y" }}
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="empty-search">
      <i class="bi bi-people"></i>
      <h3>Brak obserwujących</h3>
      <p>Nikt jeszcze nie obserwuje tego użytkownika</p>
    </div>
  {% endif %}

</div>

{% endblock %}